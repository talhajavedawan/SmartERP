<div class="button-space">
  <!-- Close button -->
  <button
    type="button"
    class="btn-close close-button"
    aria-label="Close"
    (click)="closeModal()"
  ></button>

  <!-- =================== TOOLBAR =================== -->
  <div class="toolbar-container mb-2">
    <button class="btn btn-sm btn-outline-secondary" title="List of Attachments">
      <img src="assets/images/icons/ListNumbers_32x32.png" alt="List" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Attach Document">
      <img src="assets/images/icons/Attachment_32x32.png" alt="Attach" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Info">
      <img src="assets/images/icons/log.png" alt="Info" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Approve - Mark as Reviewed">
      <img src="assets/images/icons/approve.png" alt="Approve" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Direct Close">
      <img src="assets/images/icons/block-icon.png" alt="Close" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Add New Comment">
      <img src="assets/images/icons/Commentadd.png" alt="Add Comment" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Comment Log">
      <img src="assets/images/icons/comments.png" alt="Comments" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="360 View">
      <img src="assets/images/icons/360Arrow.png" alt="360 View" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Send Email">
      <img src="assets/images/icons/Mail_32x32.png" alt="Email" class="icon-img-toolbar">
    </button>
    <button class="btn btn-sm btn-outline-secondary" title="Orders Stage Tracking">
      <img src="assets/images/icons/PackageProduct_32x32.png" alt="Tracking" class="icon-img-toolbar">
    </button>
  </div>

  <!-- =================== SIDE-BY-SIDE TABS LAYOUT =================== -->
  <div class="inquiry-form-container">
    <!-- =================== LEFT PANEL: BASIC INFORMATION =================== -->
    <div class="left-panel">
      <div class="panel-header">Basic Information</div>
      <div class="panel-content">
        <!-- Title Section -->
        <div class="text-center mb-2 mt-1">
          <h2 class="fw-bold">Inquiry</h2>
        </div>

        <!-- Stage Indicators -->
        <div class="stage-container mb-4">
          <div class="stage-badge">Under Approval</div>
          <div class="stage-badge">Approved</div>
          <div class="stage-badge">Under Closing</div>
          <div class="stage-badge">Closed</div>
        </div>

        <!-- Basic Info Fields - Single Column -->
        <div class="form-fields">
          <!-- Creator -->
          <div class="field-group">
            <label class="form-label">
              <img src="assets/images/icons/BOPerson_16x16.png" alt="" class="icon-img"> Creator
            </label>
            <input
              type="text"
              class="form-control form-control-sm"
              value="John Doe"
              readonly
              disabled
            />
          </div>

          <!-- Inquiry Template -->
          <div class="field-group">
            <label class="form-label">
              <img src="assets/images/icons/BOFolder_16x16.png" alt="" class="icon-img"> Inquiry Template
            </label>
            <select class="form-select form-select-sm">
              <option value="">Select Inquiry Template</option>
              <option>Standard Inquiry</option>
              <option>Custom Inquiry</option>
              <option>Bulk Order Inquiry</option>
            </select>
          </div>

          <!-- Company -->
          <div class="field-group">
            <label class="form-label">
              <img src="assets/images/icons/BODepartment_16x16.png" alt="" class="icon-img"> Company
            </label>
            <select class="form-select form-select-sm">
              <option value="">Select Company</option>
              <option>ABC Corporation</option>
              <option>XYZ Industries</option>
              <option>Tech Solutions Ltd</option>
            </select>
          </div>

          <!-- Department -->
          <div class="field-group">
            <label class="form-label">
              <img src="assets/images/icons/BODepartment_16x16.png" alt="" class="icon-img"> Department
            </label>
            <select class="form-select form-select-sm">
              <option value="">Select Department</option>
              <option>Procurement</option>
              <option>Sales</option>
              <option>Operations</option>
            </select>
          </div>

          <!-- Allocate to -->
          <div class="field-group">
            <label class="form-label">
               <img src="assets/images/icons/BOPerson_16x16.png" alt="" class="icon-img"> Allocate to
              </label>
            <input
              type="text"
              class="form-control form-control-sm"
              placeholder="Enter Name"
            />
          </div>

          <!-- Transaction Holder & Holder Change Date (Two Fields in One Row) -->
          <div class="field-group-row">
            <div class="field-group-half">
              <label class="form-label">
                <img src="assets/images/icons/BOPerson_16x16.png" alt="" class="icon-img"> Transac. Holder
              </label>
              <select class="form-select form-select-sm">
                <option value="">Select Holder</option>
                <option>Manager A</option>
                <option>Manager B</option>
                <option>Supervisor C</option>
              </select>
            </div>
            <div class="field-group-half">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Holder Change Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
                readonly
                disabled
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- =================== RIGHT PANEL: INQUIRY DETAILS =================== -->
    <div class="right-panel">
      <div class="panel-header">Inquiry Details</div>
      <div class="panel-content">
        <!-- Two Column Layout -->
        <div class="two-column-layout">
          <!-- LEFT COLUMN -->
          <div class="column-left">
            <!-- Customer Name -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/BOCustomer_16x16.png" alt="" class="icon-img"> Customer Name
              </label>
              <select class="form-select form-select-sm">
                <option value="">Select Customer</option>
                <option>Customer A Ltd</option>
                <option>Customer B Corp</option>
                <option>Customer C Inc</option>
              </select>
            </div>

            <!-- Inquiry Status -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/Status_16x16.png" alt="" class="icon-img"> InquiryStatus
              </label>
              <select class="form-select form-select-sm">
                <option value="">Select Status</option>
                <option>Open</option>
                <option>In Progress</option>
                <option>Pending</option>
                <option>Closed</option>
              </select>
            </div>

            <!-- Inquiry Reference # -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/BOOrder_16x16.png" alt="" class="icon-img"> Inquiry Reference #
              </label>
              <input
                type="text"
                class="form-control form-control-sm"
                placeholder="Enter Reference Number"
              />
            </div>

            <!-- Creation Date -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Creation Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
              />
            </div>

            <!-- Last Submission Date -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Last Submission Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
              />
            </div>

            <!-- Alert Date -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Alert Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
              />
            </div>

            <!-- Total Weight -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/CalculateNow_16x16.png" alt="" class="icon-img"> Total Weight
              </label>
              <input
                type="number"
                class="form-control form-control-sm"
                value="0"
                readonly
                disabled
              />
            </div>

            <!-- Comments - Moved after Total Weight -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/BONote_16x16.png" alt="" class="icon-img"> Comments
              </label>
              <textarea
                class="form-control form-control-sm"
                rows="2"
                readonly
                disabled
              ></textarea>
            </div>
          </div>

          <!-- RIGHT COLUMN -->
          <div class="column-right">
            <!-- Customer Country -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/BOCountry_16x16.png" alt="" class="icon-img"> Customer Country
              </label>
              <input
                type="text"
                class="form-control form-control-sm"
                placeholder="Country"
                readonly
                disabled
              />
            </div>

            <!-- Status Changed Date -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Status Changed Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
                readonly
                disabled
              />
            </div>

            <!-- Sales Reference # -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/BOOrder_16x16.png" alt="" class="icon-img"> Sales Reference #
              </label>
              <input
                type="text"
                class="form-control form-control-sm"
                placeholder="Enter Sales Reference"
              />
            </div>

            <!-- Inquiry Date -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Inquiry Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
              />
            </div>

            <!-- Delivery Due Date -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/ShortDate_16x16.png" alt="" class="icon-img"> Delivery Due Date
              </label>
              <input
                type="date"
                class="form-control form-control-sm"
              />
            </div>

            <!-- Own Description -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/BONote_16x16.png" alt="" class="icon-img"> Own Description
              </label>
              <input
                type="text"
                class="form-control form-control-sm"
                placeholder="Enter Description"
              />
            </div>

            <!-- Total Quantity -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/CalculateNow_16x16.png" alt="" class="icon-img"> Total Quantity
              </label>
              <input
                type="text"
                class="form-control form-control-sm"
                readonly
                disabled
              />
            </div>

            <!-- Email Body - Moved after Total Quantity -->
            <div class="field-group">
              <label class="form-label">
                <img src="assets/images/icons/EmailTemplate_16x16.png" alt="" class="icon-img"> Email Body
              </label>
              <textarea
                class="form-control form-control-sm"
                rows="2"
                placeholder="Add email body"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Full Width Fields -->
        <div class="full-width-fields mt-3">

        </div>
      </div>
    </div>
  </div>

  <!-- =================== INQUIRY ITEMS GRID =================== -->
  <!-- <div class="mt-3 mb-5">
    <h6 class="fw-semibold mb-2">
      <i class="bi bi-list-ul me-2"></i>Inquiry Items
    </h6>

    <div class="table-responsive">
      <table class="table table-bordered table-sm table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th style="width: 5%">#</th>
            <th style="width: 15%">Item</th>
            <th style="width: 20%">Item Description</th>
            <th style="width: 20%">Own Description</th>
            <th style="width: 15%">Unit Of Measure</th>
            <th style="width: 12%">Weight</th>
            <th style="width: 13%">Quantity</th>
          </tr>
        </thead>
        <tbody>
          
          <tr>
            <td class="text-center">1</td>
            <td>
              <select class="form-select form-select-sm">
                <option value="">Select Item</option>
                <option>ITEM-001</option>
                <option>ITEM-002</option>
                <option>ITEM-003</option>
              </select>
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" placeholder="Description" readonly />
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" placeholder="Enter description" />
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" placeholder="Unit" readonly />
            </td>
            <td>
              <input type="number" class="form-control form-control-sm" placeholder="0.00" />
            </td>
            <td>
              <input type="number" class="form-control form-control-sm" placeholder="0" />
            </td>
          </tr>

         
          <tr>
            <td class="text-center">2</td>
            <td>
              <select class="form-select form-select-sm">
                <option value="">Select Item</option>
                <option>ITEM-001</option>
                <option>ITEM-002</option>
                <option>ITEM-003</option>
              </select>
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" placeholder="Description" readonly />
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" placeholder="Enter description" />
            </td>
            <td>
              <input type="text" class="form-control form-control-sm" placeholder="Unit" readonly />
            </td>
            <td>
              <input type="number" class="form-control form-control-sm" placeholder="0.00" />
            </td>
            <td>
              <input type="number" class="form-control form-control-sm" placeholder="0" />
            </td>
          </tr>

       
          <tr>
            <td colspan="7" class="text-center">
              <button class="btn btn-sm btn-outline-primary">
                <i class="bi bi-plus-circle me-1"></i>Add New Item
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> -->

<!-- =================== INQUIRY ITEMS GRID =================== -->
<div class="mt-3 mb-2">
  <h6 class="fw-semibold mb-2">
    <i class="bi bi-list-ul me-2"></i>Inquiry Items
  </h6>
  <app-inquiry-grid></app-inquiry-grid>
</div>

<!-- =================== FOOTER SAVE BAR =================== -->
<div class="footer-bar" (click)="saveInquiry()">
  @if (!isLoading) {
  <span>
    <i class="bi bi-save me-2"></i>
    Save Inquiry
  </span>
  } @if (isLoading) {
  <span>
    <span class="spinner-border spinner-border-sm me-2"></span>
    Saving...
  </span>
  }
</div>
