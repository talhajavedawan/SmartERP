<div class="zone-container d-flex border rounded shadow-sm overflow-hidden bg-white position-relative">

  <!-- ðŸ”¹ LEFT SIDE: GRID + FOOTER ONLY -->
  <div class="zone-grid flex-grow-1 border-end position-relative d-flex flex-column">

    <!-- ðŸ”· GRID -->
    <div class="grid-area flex-grow-1">
      <app-grid-layout
          [title]="'Zones'"
          [columnDefs]="columnDefs"
          [rowData]="zones"
          [layoutKey]="'zone-grid-layout'"
          (rowClicked)="onRowClicked($event)"
          (onAdd)="onAdd()"
          (onUpdate)="onUpdate()"
          (onRefresh)="refreshZones()"
      ></app-grid-layout>
    </div>

    <!-- ðŸ”· FOOTER -->
    <div class="footer-bar d-flex justify-content-between align-items-center px-3">
      <div class="page-info text-secondary fw-medium">
        Total: {{ zones.length || 0 }} records
      </div>

      <nz-pagination
        [nzPageIndex]="1"
        [nzPageSize]="50"
        [nzTotal]="zones.length"
        [nzShowSizeChanger]="true"
        [nzShowQuickJumper]="true">
      </nz-pagination>
    </div>

  </div>
<!-- ðŸ”¹ RIGHT DETAILS PANEL (Resizable) -->
<div class="zone-details-wrapper" [style.width]="detailPanelWidth">

  <!-- ðŸ‘‰ RESIZE HANDLE -->
  <div class="resize-handle" (mousedown)="startResizing($event)"></div>

  <div class="zone-details h-100 d-flex flex-column">

    <div *ngIf="selectedZone; else emptyDetails"
         class="zone-details-inner h-100 bg-white p-3">

      <h6 class="fw-bold text-primary mb-3 d-flex align-items-center gap-2 border-bottom pb-2">
        <i class="bi bi-info-circle fs-5"></i> Zone Details
      </h6>

      <div class="mb-3">
        <label class="fw-semibold d-block text-secondary small">Zone Name</label>
        <div class="fs-6 fw-bold">{{ selectedZone.name }}</div>
      </div>

      <div class="mt-3">
        <label class="fw-semibold d-block text-secondary small mb-1">Countries</label>

        <div *ngIf="selectedZone.countries?.length; else noCountries">
          <ul class="list-unstyled ms-1">
            <li *ngFor="let c of selectedZone.countries">â€¢ {{ c.name }}</li>
          </ul>
        </div>

        <ng-template #noCountries>
          <p class="text-muted small">No countries assigned.</p>
        </ng-template>
      </div>

    </div>

    <ng-template #emptyDetails>
      <div class="empty-state d-flex flex-column justify-content-center align-items-center h-100 text-muted p-4">
        <i class="bi bi-layout-sidebar-inset text-secondary mb-3" style="font-size: 2.4rem;"></i>
        <h6 class="fw-semibold text-secondary mb-1">No Zone Selected</h6>
        <p class="text-center small mb-0">Select a zone to view its details.</p>
      </div>
    </ng-template>

  </div>
</div>

<style>
  .zone-details-wrapper {
  position: relative;
  background: #fff;
  border-left: 1px solid #dee2e6;
  display: flex;
}

.resize-handle {
  width: 6px;
  cursor: col-resize;
  background: #e9ecef;
  transition: background 0.2s ease;
}

.resize-handle:hover {
  background: #c9ced6;
}

.zone-details {
  flex: 1;
  overflow-y: auto;
}

.zone-details-inner {
  animation: fadeIn 0.3s ease;
}

</style>