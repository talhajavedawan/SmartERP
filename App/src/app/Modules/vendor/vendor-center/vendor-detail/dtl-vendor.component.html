<div class="vendor-detail-container" *ngIf="!loading; else loadingTpl">

  <div class="header-card">
    <div class="header-left">
      <h2>
        <i class="bi bi-building-fill text-primary me-2"></i>
        {{ vendor?.companyName }}
      </h2>
    </div>

    <div class="header-actions">

      <span class="tag small" 
        [class.active]="vendor?.isActive"
        [class.inactive]="!vendor?.isActive">
        {{ vendor?.isActive ? 'Active' : 'Inactive' }}
      </span>

      <button class="close-btn" (click)="onClose()">
        <i class="bi bi-x-lg"></i>
      </button>

    </div>
  </div>
  <div class="content-grid">

    <div class="info-card">
      <h4 class="section-title"><i class="bi bi-info-circle-fill me-2"></i>General Information</h4>

      <div class="info-row"><label>Business Type:</label><span>{{ vendor?.businessTypeName }}</span></div>
      <div class="info-row"><label>Industry Type:</label><span>{{ vendor?.industryTypeName }}</span></div>
      <div class="info-row"><label>Email:</label><span>{{ vendor?.contactEmail }}</span></div>
      <div class="info-row"><label>Phone:</label><span>{{ vendor?.contactPhone }}</span></div>
      <div class="info-row"><label>Billing Address:</label><span>{{ vendor?.billingAddress }}</span></div>
      <div class="info-row"><label>Shipping Address:</label><span>{{ vendor?.shippingAddress }}</span></div>
      <div class="info-row"><label>Ranking:</label><span>{{ vendor?.ranking }}</span></div>
    </div>

    <div class="contacts-card">
      <h4 class="section-title"><i class="bi bi-people-fill me-2"></i>Contacts</h4>

      <div *ngIf="contacts.length === 0" class="empty-message">
        No contacts added for this vendor.
      </div>

      <div *ngFor="let c of contacts" class="contact-box">

        <div class="contact-name">
          <i class="bi bi-person-circle me-2"></i>
          {{ c.firstName && c.lastName ? (c.firstName + ' ' + c.lastName) : c.personName }}
        </div>

        <div class="c-row"><label>Designation:</label><span>{{ c.designation }}</span></div>
        <div class="c-row"><label>Email:</label><span>{{ c.email }}</span></div>
        <div class="c-row"><label>Phone:</label><span>{{ c.phoneNumber }}</span></div>
        <div class="c-row"><label>Religion:</label><span>{{ c.religion }}</span></div>
        <div class="c-row"><label>Nationality:</label><span>{{ c.nationality }}</span></div>

        <div class="c-row">
          <label>Primary:</label>
          <span class="badge" [class.bg-success]="c.isPrimary" [class.bg-danger]="!c.isPrimary">
            {{ c.isPrimary ? 'Yes' : 'No' }}
          </span>
        </div>

        <div class="c-row">
          <label>Status:</label>
          <span class="badge" [class.bg-success]="c.isActive" [class.bg-danger]="!c.isActive">
            {{ c.isActive ? 'Active' : 'Inactive' }}
          </span>
        </div>

      </div>

    </div>
  </div>
</div>

<ng-template #loadingTpl>
  <div class="loader">Loading vendor details...</div>
</ng-template>
